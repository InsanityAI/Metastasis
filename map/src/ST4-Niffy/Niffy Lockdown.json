{"name":"Niffy Lockdown","contentType":"TRIGGER","description":"-14525\r\n-7230","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterTimerEventSingle","type":"EVENT","isEnabled":true,"parameters":[{"type":"VALUE","value":"2.00"}]}],"conditions":[],"actions":[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TESTING"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"CountPlayersInForceBJ","statement":{"type":"CALL","isEnabled":true,"name":"CountPlayersInForceBJ","parameters":[{"type":"FUNCTION","value":"GetPlayersAll","statement":{"type":"CALL","isEnabled":true,"name":"GetPlayersAll","parameters":[]}}]}},{"type":"PRESET","value":"OperatorLessEq"},{"type":"VALUE","value":"5"}]}],[{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Niffy Lockdown!"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"IsNiffyLockdownActive"},{"type":"VALUE","value":"true"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"---"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Max Evil EP"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"UpgradePointsAlien"},{"type":"VALUE","value":"4000.00"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"UpgradePointsMutant"},{"type":"VALUE","value":"4000.00"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Create Solace Shop"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"Location","statement":{"type":"CALL","isEnabled":true,"name":"Location","parameters":[{"type":"VALUE","value":"-14550.00"},{"type":"VALUE","value":"-7510.00"}]}}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"h017"},{"type":"PRESET","value":"PlayerNP"},{"type":"VARIABLE","value":"TempPoint"},{"type":"PRESET","value":"RealUnitFacing"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Move all space pods away"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"},{"type":"FUNCTION","value":"GetUnitsOfTypeIdAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsOfTypeIdAll","parameters":[{"type":"VALUE","value":"h02O"}]}}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"}],"statements":[[{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"GetRectCenter","statement":{"type":"CALL","isEnabled":true,"name":"GetRectCenter","parameters":[{"type":"VARIABLE","value":"gg_rct_ST10"}]}}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestroyGroup(udg_TempUnitGroup)"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Move all raptors away"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"},{"type":"FUNCTION","value":"GetUnitsOfTypeIdAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsOfTypeIdAll","parameters":[{"type":"VALUE","value":"h001"}]}}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"}],"statements":[[{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"GetRectCenter","statement":{"type":"CALL","isEnabled":true,"name":"GetRectCenter","parameters":[{"type":"VARIABLE","value":"gg_rct_ST10"}]}}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestroyGroup(udg_TempUnitGroup)"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Move all obdas away"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"},{"type":"FUNCTION","value":"GetUnitsOfTypeIdAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsOfTypeIdAll","parameters":[{"type":"VALUE","value":"h02K"}]}}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"}],"statements":[[{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"GetRectCenter","statement":{"type":"CALL","isEnabled":true,"name":"GetRectCenter","parameters":[{"type":"VARIABLE","value":"gg_rct_ST10"}]}}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestroyGroup(udg_TempUnitGroup)"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Random Events not triggering"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"2"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"4"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"5"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"9"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"10"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"12"}},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"RandomEvent_On","arrayIndex":{"type":"VALUE","value":"13"}},{"type":"VALUE","value":"true"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Wipe blood tests"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call BloodTestingWipe()"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Move players to starting location (and move camera there)"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"},{"type":"FUNCTION","value":"GetUnitsOfTypeIdAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsOfTypeIdAll","parameters":[{"type":"VALUE","value":"h00H"}]}}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"}],"statements":[[{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"GetRandomLocInRect","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomLocInRect","parameters":[{"type":"VARIABLE","value":"gg_rct_Niffy_Lockdown_Start"}]}}]},{"name":"PanCameraToTimedLocForPlayer","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"VALUE","value":"0"}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestroyGroup(udg_TempUnitGroup)"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Disable Space Alien and Space Overlord"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Credits to tal for this"}]},{"name":"ForForceMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetPlayersAll","statement":{"type":"CALL","isEnabled":true,"name":"GetPlayersAll","parameters":[]}}],"statements":[[{"name":"SetPlayerUnitMaxAllowed","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"h031"},{"type":"VALUE","value":"0"},{"type":"FUNCTION","value":"GetEnumPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumPlayer","parameters":[]}}]},{"name":"SetPlayerUnitMaxAllowed","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"h04G"},{"type":"VALUE","value":"0"},{"type":"FUNCTION","value":"GetEnumPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumPlayer","parameters":[]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call FogModifierStop(udg_SpaceVisibility[GetConvertedPlayerId(GetEnumPlayer())])"}]}]]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Say to players that its niffy lockdown"}]},{"name":"DisplayTextToForce","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetPlayersAll","statement":{"type":"CALL","isEnabled":true,"name":"GetPlayersAll","parameters":[]}},{"type":"VALUE","value":"TRIGSTR_5194"}]}]]}]}