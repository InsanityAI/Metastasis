{"name":"ParasiteDialog","contentType":"TRIGGER","description":"--","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventTrain_Finish"}]}],"conditions":[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitAbilityLevelSwapped","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitAbilityLevelSwapped","parameters":[{"type":"VALUE","value":"A078"},{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqual"},{"type":"VALUE","value":"1"}]},{"name":"OperatorComparePlayer","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VARIABLE","value":"Parasite"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"RectContainsUnit","statement":{"type":"CALL","isEnabled":true,"name":"RectContainsUnit","parameters":[{"type":"VARIABLE","value":"gg_rct_Timeout"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}}]}}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],"actions":[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"local unit a"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"IsUnitAliveBJ","statement":{"type":"CALL","isEnabled":true,"name":"IsUnitAliveBJ","parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]}},{"type":"PRESET","value":"OperatorNotEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"RemoveUnit","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]},{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"ParasiteIsUpgrading"},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"ParasiteUpgradeLevel"},{"type":"FUNCTION","value":"OperatorInt","statement":{"type":"CALL","isEnabled":true,"name":"OperatorInt","parameters":[{"type":"VARIABLE","value":"ParasiteUpgradeLevel"},{"type":"PRESET","value":"OperatorAdd"},{"type":"VALUE","value":"1"}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"ParasiteUpgradingTo"},{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}}]},{"name":"RemoveUnit","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Parasite_EvoSelector"}]},{"name":"RemoveUnit","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]},{"name":"UnitAddAbilityBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Avul"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]},{"name":"PauseUnitBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"PauseUnpauseOptionPause"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]},{"name":"SetUnitOwner","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}},{"type":"PRESET","value":"PlayerNP"},{"type":"PRESET","value":"ChangeColorTrue"}]},{"name":"UnitAddAbilityBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"A07E"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]},{"name":"PolledWait","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"2"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]}}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"h02X"},{"type":"PRESET","value":"PlayerNE"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set a = GetLastCreatedUnit()"}]},{"name":"ForLoopAMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"6"}],"statements":[[{"name":"UnitAddItemSwapped","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"UnitItemInSlotBJ","statement":{"type":"CALL","isEnabled":true,"name":"UnitItemInSlotBJ","parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}},{"type":"FUNCTION","value":"GetForLoopIndexA","statement":{"type":"CALL","isEnabled":true,"name":"GetForLoopIndexA","parameters":[]}}]}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]}]]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitAbilityLevelSwapped","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitAbilityLevelSwapped","parameters":[{"type":"VALUE","value":"A046"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]}},{"type":"PRESET","value":"OperatorGreaterEq"},{"type":"VALUE","value":"1"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempItem"},{"type":"VARIABLE","value":"Player_Suit","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]},{"name":"SetItemUserData","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempItem"},{"type":"VALUE","value":"0"}]},{"name":"SetItemVisibleBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"ShowHideShow"},{"type":"VARIABLE","value":"TempItem"}]},{"name":"SetItemPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempItem"},{"type":"VARIABLE","value":"TempPoint"}]},{"name":"UnitAddItemSwapped","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempItem"},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]}]]},{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}},{"type":"VARIABLE","value":"HoldZone"}]},{"name":"RemoveUnit","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"AlienForm_Alien"},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"PRESET","value":"PlayerNE"}]}}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPlayerGroup"},{"type":"FUNCTION","value":"GetPlayersMatching","statement":{"type":"CALL","isEnabled":true,"name":"GetPlayersMatching","parameters":[{"type":"FUNCTION","value":"","statement":{"type":"CONDITION","isEnabled":true,"name":"OperatorComparePlayer","parameters":[{"type":"FUNCTION","value":"GetFilterPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetFilterPlayer","parameters":[]}},{"type":"PRESET","value":"OperatorNotEqualENE"},{"type":"VARIABLE","value":"Parasite"}]}}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"CountupBar_HideTempBool"},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"CountUpBarColor"},{"type":"VALUE","value":"|cff800080"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}}]}}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00H"},{"type":"PRESET","value":"PlayerNP"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}}]},{"name":"SetUnitAnimation","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"VALUE","value":"death"}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00H"},{"type":"PRESET","value":"PlayerNP"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}}]},{"name":"SetUnitAnimation","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"VALUE","value":"death"}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00A"},{"type":"PRESET","value":"PlayerNP"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00A"},{"type":"PRESET","value":"PlayerNP"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempUnit=a"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TESTING"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call CountUpBar(udg_TempUnit, 2, 1, \"ParasiteUpgrade\")"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"IsNiffyLockdownActive"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call CountUpBar(udg_TempUnit, 8, 1, \"ParasiteUpgrade\")"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call CountUpBar(udg_TempUnit, 30, 1, \"ParasiteUpgrade\")"}]}]]}]]}]}