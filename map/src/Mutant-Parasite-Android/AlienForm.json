{"name":"AlienForm","contentType":"TRIGGER","description":"Begins the alien form for the main alien, not the spawns.","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventSpellEffect"}]}],"conditions":[{"name":"OperatorCompareAbilityId","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityId","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityId","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"A02O"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Player_IsMasquerading","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]}}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],"actions":[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"local unit c"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Hide the personnel!"}]},{"name":"ShowUnitHide","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Set temp point to the position of the caster."}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Dummy explosion 9 is an egg. Create it, make sure it plays its death animation, and execute Remove2 which will remove it in 2 seconds."}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00H"},{"type":"PRESET","value":"PlayerNE"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitFacing","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitFacing","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"SetUnitAnimation","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"VALUE","value":"death"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnit"},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call Remove2()"}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Create the alien current form at temppoint!"}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VARIABLE","value":"AlienCurrentForm"},{"type":"PRESET","value":"PlayerNE"},{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitFacing","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitFacing","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Adjust relative life and mana percentages."}]},{"name":"SetUnitLifePercentBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"FUNCTION","value":"GetUnitLifePercent","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLifePercent","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"SetUnitManaPercentBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"FUNCTION","value":"GetUnitManaPercent","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitManaPercent","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Select it for the owner of the casting unit, who will always be the parasite."}]},{"name":"SelectUnitForPlayerSingle","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}},{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Set AlienForm_Alien, playerhero for neutral extra, playerhero for parasite player to the alien."}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"AlienForm_Alien"},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"PRESET","value":"PlayerNE"}]}}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"VARIABLE","value":"Parasite"}]}}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Transfer items and remove caster."}]},{"name":"ForLoopAMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"6"}],"statements":[[{"name":"UnitAddItemSwapped","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"UnitItemInSlotBJ","statement":{"type":"CALL","isEnabled":true,"name":"UnitItemInSlotBJ","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}},{"type":"FUNCTION","value":"GetForLoopIndexA","statement":{"type":"CALL","isEnabled":true,"name":"GetForLoopIndexA","parameters":[]}}]}},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]}]]},{"name":"SetUnitPositionLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}},{"type":"VARIABLE","value":"HoldZone"}]},{"name":"RemoveUnit","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]},{"name":"CommentString","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"Create the ALIEN SHOP WORKAROUND!"}]},{"name":"CreateNUnitsAtLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"e00L"},{"type":"VARIABLE","value":"Parasite"},{"type":"VARIABLE","value":"HoldZone"},{"type":"PRESET","value":"RealUnitFacing"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Alien_ShopWorkaround"},{"type":"FUNCTION","value":"GetLastCreatedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedUnit","parameters":[]}}]},{"name":"EnableTrigger","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"gg_trg_AlienAdjustShop"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]}]}