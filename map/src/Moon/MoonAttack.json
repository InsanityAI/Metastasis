{"name":"MoonAttack","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterUnitEvent","type":"EVENT","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"gg_unit_h03T_0209"},{"type":"PRESET","value":"UnitEventDamaged"}]}],"conditions":[{"name":"OperatorCompareReal","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEventDamage","statement":{"type":"CALL","isEnabled":true,"name":"GetEventDamage","parameters":[]}},{"type":"PRESET","value":"OperatorGreaterEq"},{"type":"VALUE","value":"1.00"}]}],"actions":[{"name":"DisableTrigger","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetTriggeringTrigger","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggeringTrigger","parameters":[]}}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_TakingDamage"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],[{"name":"SetStackedSoundBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"AddRemoveAdd"},{"type":"VARIABLE","value":"gg_snd_WWII_submarine_dive_klaxon"},{"type":"VARIABLE","value":"gg_rct_MoonRect"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_TakingDamage"},{"type":"VALUE","value":"true"}]}]]},{"name":"StartTimerBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_ResetAlarm"},{"type":"PRESET","value":"PeriodicOptionOneTime"},{"type":"VALUE","value":"10.00"}]},{"name":"ForceClear","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_PGroup"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitGroup"},{"type":"FUNCTION","value":"GetUnitsInRectAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsInRectAll","parameters":[{"type":"VARIABLE","value":"gg_rct_MoonRect"}]}}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitsInRectAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsInRectAll","parameters":[{"type":"VARIABLE","value":"gg_rct_MoonRect"}]}}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnit","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VARIABLE","value":"Playerhero","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}}]}}}]},{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Player_TetrabinLevel","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}}]}}},{"type":"PRESET","value":"OperatorEqual"},{"type":"VALUE","value":"0"}]}],[{"name":"ForceAddPlayerSimple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"VARIABLE","value":"Moon_PGroup"}]},{"name":"CameraSetEQNoiseForPlayer","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"VALUE","value":"3"}]}]]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"    call DestroyGroup( udg_TempUnitGroup )"}]},{"name":"ForForceMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_PGroup"}],"statements":[[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTimedTextToPlayer(GetEnumPlayer(), 0, 0, 5.00, \"|cffFF0000Errun under attack!|r\")"}]}]]},{"name":"PolledWait","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"5.00"}]},{"name":"ForForceMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Moon_PGroup"}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Player_TetrabinLevel","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetEnumPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumPlayer","parameters":[]}}]}}},{"type":"PRESET","value":"OperatorEqual"},{"type":"VALUE","value":"0"}]}],[{"name":"CameraClearNoiseForPlayer","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumPlayer","parameters":[]}}]}]]}]]},{"name":"EnableTrigger","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"gg_trg_MoonAttack"}]}]}