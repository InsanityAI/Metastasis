{"name":"GravitationalControlTarget","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventSpellCast"}]}],"conditions":[{"name":"OperatorCompareAbilityId","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityId","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityId","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"A02V"}]}],"actions":[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetSpellTargetUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetUnit","parameters":[]}}]}}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OrMultiple","type":"CONDITION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"RectContainsLoc","statement":{"type":"CALL","isEnabled":true,"name":"RectContainsLoc","parameters":[{"type":"VARIABLE","value":"gg_rct_Space"},{"type":"VARIABLE","value":"TempPoint"}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"IsUnitIdType","statement":{"type":"CALL","isEnabled":true,"name":"IsUnitIdType","parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetSpellTargetUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetUnit","parameters":[]}}]}},{"type":"PRESET","value":"UnitTypeStructure"}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]},{"name":"OperatorCompareUnit","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellTargetUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetUnit","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VARIABLE","value":"gg_unit_h03T_0209"}]},{"name":"OperatorCompareUnit","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellTargetUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetUnit","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VARIABLE","value":"gg_unit_h008_0196"}]}]]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()), 0, 0, \"|cffFF0000ERROR: Invalid target.|r\")"}]},{"name":"IssueImmediateOrder","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}},{"type":"PRESET","value":"UnitOrderStop"}]},{"name":"ForceUIKeyBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}},{"type":"VALUE","value":"J"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"GravitationalControl_Target"},{"type":"FUNCTION","value":"GetSpellTargetUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetUnit","parameters":[]}}]},{"name":"ForceUIKeyBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}},{"type":"VALUE","value":"K"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()), 0, 0, \"|cff00FF00Target accepted. Select correction angle.|r\")"}]}]}