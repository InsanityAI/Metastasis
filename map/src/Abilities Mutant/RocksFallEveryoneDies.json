{"name":"RocksFallEveryoneDies","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventSpellEffect"}]}],"conditions":[{"name":"OperatorCompareAbilityId","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityId","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityId","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"A01Q"}]}],"actions":[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempReal=GetLocationZ(udg_TempPoint)"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareReal","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempReal"},{"type":"PRESET","value":"OperatorGreaterEq"},{"type":"VALUE","value":"-600.00"}]}],[{"name":"TerrainDeformationCraterBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"0.5"},{"type":"PRESET","value":"CraterTypePermanent"},{"type":"VARIABLE","value":"TempPoint"},{"type":"VALUE","value":"512"},{"type":"VALUE","value":"150.00"}]}]]},{"name":"ForLoopAMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"36"}],"statements":[[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint2"},{"type":"FUNCTION","value":"PolarProjectionBJ","statement":{"type":"CALL","isEnabled":true,"name":"PolarProjectionBJ","parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"VALUE","value":"512.00"},{"type":"FUNCTION","value":"OperatorReal","statement":{"type":"CALL","isEnabled":true,"name":"OperatorReal","parameters":[{"type":"FUNCTION","value":"I2R","statement":{"type":"CALL","isEnabled":true,"name":"I2R","parameters":[{"type":"FUNCTION","value":"GetForLoopIndexA","statement":{"type":"CALL","isEnabled":true,"name":"GetForLoopIndexA","parameters":[]}}]}},{"type":"PRESET","value":"OperatorMultiply"},{"type":"VALUE","value":"10.00"}]}}]}}]},{"name":"CreateDestructableLoc","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"B007"},{"type":"VARIABLE","value":"TempPoint2"},{"type":"FUNCTION","value":"GetRandomDirectionDeg","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomDirectionDeg","parameters":[]}},{"type":"VALUE","value":"1.00"},{"type":"VALUE","value":"0"}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint2"},{"type":"VALUE","value":"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SFXThreadClean()"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint2)"}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]}]}