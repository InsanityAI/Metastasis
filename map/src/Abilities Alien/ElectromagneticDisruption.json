{"name":"ElectromagneticDisruption","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventSpellEffect"}]}],"conditions":[{"name":"OperatorCompareAbilityId","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityId","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityId","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"A03Q"}]}],"actions":[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"VALUE","value":"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SFXThreadClean()"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempInt=GetSector(udg_TempPoint)"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempInt2"},{"type":"VALUE","value":"0"}]},{"name":"EnumDestructablesInRectAllMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEntireMapRect","statement":{"type":"CALL","isEnabled":true,"name":"GetEntireMapRect","parameters":[]}}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OrMultiple","type":"CONDITION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareDestructableCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetDestructableTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableTypeId","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"B001"}]},{"name":"OperatorCompareDestructableCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetDestructableTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableTypeId","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"B000"}]}]]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint2"},{"type":"FUNCTION","value":"GetDestructableLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableLoc","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempBool=LocInSector(udg_TempPoint2, udg_TempInt)"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempTrigger=LoadTriggerHandle(LS(), GetHandleId(GetEnumDestructable()), StringHash(\"t1\")) "}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempInt3=LoadInteger(LS(), GetHandleId(udg_TempTrigger), StringHash(\"clearance\"))"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempInt3"},{"type":"PRESET","value":"OperatorNotEqual"},{"type":"VALUE","value":"1337"}]},{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetRandomInt","statement":{"type":"CALL","isEnabled":true,"name":"GetRandomInt","parameters":[{"type":"VALUE","value":"1"},{"type":"VALUE","value":"1"}]}},{"type":"PRESET","value":"OperatorEqual"},{"type":"VALUE","value":"1"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempInt2"},{"type":"FUNCTION","value":"OperatorInt","statement":{"type":"CALL","isEnabled":true,"name":"OperatorInt","parameters":[{"type":"VARIABLE","value":"TempInt2"},{"type":"PRESET","value":"OperatorAdd"},{"type":"VALUE","value":"1"}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint3"},{"type":"FUNCTION","value":"GetDestructableLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableLoc","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SaveInteger(LS(), GetHandleId(udg_TempTrigger), StringHash(\"clearance\"), 1337)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempTrigger=LoadTriggerHandle(LS(), GetHandleId(GetEnumDestructable()), StringHash(\"t2\")) "}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempDoorHack"},{"type":"VALUE","value":"true"}]},{"name":"TriggerExecute","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempTrigger"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempDoorHack"},{"type":"VALUE","value":"false"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SaveInteger(LS(), GetHandleId(udg_TempTrigger), StringHash(\"clearance\"), 1337)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestructableRestoreLife(LoadDestructableHandle(LS(), GetHandleId(udg_TempTrigger),StringHash(\"doorpath\")),999999,true)"}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint3"},{"type":"VALUE","value":"Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SFXThreadClean()"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint3)"}]}]]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint2)"}]}]]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorComparePlayer","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"PRESET","value":"PlayerNE"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(udg_Parasite, 0, 0, \"|cffffcc00Locked \" + I2S(udg_TempInt2) + \" doors.\")"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetSpellAbilityUnit()), 0, 0, \"|cffffcc00Locked \" + I2S(udg_TempInt2) + \" doors.\")"}]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnitType"},{"type":"VALUE","value":"e00O"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPlayer"},{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetSpellAbilityUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityUnit","parameters":[]}}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempReal"},{"type":"VALUE","value":"60.00"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call ExecuteFunc(\"AlienRequirementRemove\")"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call ExecuteFunc(\"AlienRequirementRestore\")"}]}]}