{"name":"SyllusCageCell","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventTrain_Finish"}]}],"conditions":[],"actions":[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02T"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage1"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02U"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage2"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02V"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage3"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02W"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage4"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02X"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage5"}]}],[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetTrainedUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTrainedUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"e02Y"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempRect"},{"type":"VARIABLE","value":"gg_rct_Cage6"}]}],[{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]}]]}]]}]]}]]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"false"}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitsInRectAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsInRectAll","parameters":[{"type":"VARIABLE","value":"gg_rct_Cage_Transport"}]}}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareUnitCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitTypeId","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"h04Q"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"if not (LoadInteger(LS(),GetHandleId(GetEnumUnit()),StringHash(\"Cage_Weight\"))<=2) then"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"return false"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"endif"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"IsUnitHiddenBJ","statement":{"type":"CALL","isEnabled":true,"name":"IsUnitHiddenBJ","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"IsUnitAliveBJ","statement":{"type":"CALL","isEnabled":true,"name":"IsUnitAliveBJ","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnit2"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}]]}]]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, \"|cffffcc00Error: Unable to find a non-full cage on the transportation platform.|r\")"}]},{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"false"}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitsInRectAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsInRectAll","parameters":[{"type":"VARIABLE","value":"TempRect"}]}}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetUnitPointValue","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitPointValue","parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorNotEqual"},{"type":"VALUE","value":"37"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"true"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnit"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}]]}]]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}],[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"VARIABLE","value":"TempUnit"}]}}]},{"name":"ShowUnitHide","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempUnit"}]},{"name":"PauseUnitBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"PauseUnpauseOptionPause"},{"type":"VARIABLE","value":"TempUnit"}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"VALUE","value":"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SFXThreadClean()"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call GroupAddUnit(LoadGroupHandle(LS(),GetHandleId(udg_TempUnit2),StringHash(\"CageGroup\")),udg_TempUnit)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SaveInteger(LS(),GetHandleId(udg_TempUnit2),StringHash(\"Cage_Weight\"),LoadInteger(LS(),GetHandleId(udg_TempUnit2),StringHash(\"Cage_Weight\"))+1)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, \"|cff00FF00Transfer successful!|r\")"}]},{"name":"UnitShareVisionBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"ShareDontOptionShare"},{"type":"VARIABLE","value":"TempUnit2"},{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"VARIABLE","value":"TempUnit"}]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"VARIABLE","value":"TempUnit2"}]}}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"VALUE","value":"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call SFXThreadClean()"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, \"|cffffcc00Error: Unable to find subject in requested cell.|r\")"}]}]]}]}