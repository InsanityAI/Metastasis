{"name":"PersonnelUpgradeEnter","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":true,"runOnMapInit":true,"events":[{"name":"TriggerRegisterEnterRectSimple","type":"EVENT","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"gg_rct_PersonnelUpgrade"}]}],"conditions":[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Personnel_HasUpgrade","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}}]}}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],"actions":[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareString","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"SubStringBJ","statement":{"type":"CALL","isEnabled":true,"name":"SubStringBJ","parameters":[{"type":"FUNCTION","value":"I2S","statement":{"type":"CALL","isEnabled":true,"name":"I2S","parameters":[{"type":"FUNCTION","value":"GetUnitPointValue","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitPointValue","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}}]}},{"type":"VALUE","value":"2"},{"type":"VALUE","value":"2"}]}},{"type":"PRESET","value":"OperatorNotEqualENE"},{"type":"VALUE","value":"2"}]},{"name":"OperatorCompareInteger","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempInt"},{"type":"PRESET","value":"OperatorNotEqual"},{"type":"VALUE","value":"0"}]}],[{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTextToPlayer(GetOwningPlayer(GetTriggerUnit()), 0, 0, \"|cffffcc00We're sorry, but we don't recognize you in our databanks.|r\")"}]},{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"DialogDisplayBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"PRESET","value":"ShowHideShow"},{"type":"VARIABLE","value":"PersonnelUpgradeDialog"},{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Personnel_HasUpgrade","arrayIndex":{"type":"FUNCTION","value":"GetConvertedPlayerId","statement":{"type":"CALL","isEnabled":true,"name":"GetConvertedPlayerId","parameters":[{"type":"FUNCTION","value":"GetOwningPlayer","statement":{"type":"CALL","isEnabled":true,"name":"GetOwningPlayer","parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}}]}}]}}},{"type":"VALUE","value":"true"}]}]}