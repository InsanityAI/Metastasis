{"name":"Phase Vortex","contentType":"TRIGGER","description":"Mad math","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventSpellEffect"}]}],"conditions":[{"name":"OperatorCompareAbilityId","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetSpellAbilityId","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellAbilityId","parameters":[]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"A09L"}]}],"actions":[{"name":"SetUnitAnimation","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetTriggerUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetTriggerUnit","parameters":[]}},{"type":"VALUE","value":"Spell"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempLoc3"},{"type":"FUNCTION","value":"GetSpellTargetLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetSpellTargetLoc","parameters":[]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"DMgroup"},{"type":"FUNCTION","value":"GetUnitsInRangeOfLocAll","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitsInRangeOfLocAll","parameters":[{"type":"VALUE","value":"300.00"},{"type":"VARIABLE","value":"TempLoc3"}]}}]},{"name":"AddSpecialEffectLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempLoc3"},{"type":"VALUE","value":"war3mapImported\\DarkNova.mdx"}]},{"name":"DestroyEffectBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedEffectBJ","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedEffectBJ","parameters":[]}}]},{"name":"CreateTextTagLocBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"TRIGSTR_4550"},{"type":"VARIABLE","value":"TempLoc3"},{"type":"VALUE","value":"0"},{"type":"VALUE","value":"8.00"},{"type":"VALUE","value":"100"},{"type":"VALUE","value":"100"},{"type":"VALUE","value":"100"},{"type":"VALUE","value":"0"}]},{"name":"SetTextTagPermanentBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedTextTag","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedTextTag","parameters":[]}},{"type":"PRESET","value":"EnableDisableDisable"}]},{"name":"SetTextTagLifespanBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedTextTag","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedTextTag","parameters":[]}},{"type":"VALUE","value":"1.50"}]},{"name":"ForGroupMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"DMgroup"}],"statements":[[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Manacurrent1"},{"type":"FUNCTION","value":"GetUnitStateSwap","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitStateSwap","parameters":[{"type":"PRESET","value":"UnitStateMana"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}}]},{"name":"SetUnitManaBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"OperatorReal","statement":{"type":"CALL","isEnabled":true,"name":"OperatorReal","parameters":[{"type":"FUNCTION","value":"GetUnitStateSwap","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitStateSwap","parameters":[{"type":"PRESET","value":"UnitStateMana"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorSubtract"},{"type":"VALUE","value":"40.00"}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Manacurrent2"},{"type":"FUNCTION","value":"GetUnitStateSwap","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitStateSwap","parameters":[{"type":"PRESET","value":"UnitStateMana"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"Manadrained"},{"type":"FUNCTION","value":"OperatorReal","statement":{"type":"CALL","isEnabled":true,"name":"OperatorReal","parameters":[{"type":"VARIABLE","value":"Manacurrent1"},{"type":"PRESET","value":"OperatorSubtract"},{"type":"VARIABLE","value":"Manacurrent2"}]}}]},{"name":"SetUnitLifeBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}},{"type":"FUNCTION","value":"OperatorReal","statement":{"type":"CALL","isEnabled":true,"name":"OperatorReal","parameters":[{"type":"FUNCTION","value":"GetUnitStateSwap","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitStateSwap","parameters":[{"type":"PRESET","value":"UnitStateLife"},{"type":"FUNCTION","value":"GetEnumUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumUnit","parameters":[]}}]}},{"type":"PRESET","value":"OperatorSubtract"},{"type":"VARIABLE","value":"Manadrained"}]}}]},{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"DestroyTextTagBJ","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetLastCreatedTextTag","statement":{"type":"CALL","isEnabled":true,"name":"GetLastCreatedTextTag","parameters":[]}}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempLoc3)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestroyGroup(udg_DMgroup)"}]}]}