{"name":"JanitorsKeycard","contentType":"TRIGGER","description":"","isEnabled":true,"initiallyOff":false,"runOnMapInit":true,"events":[{"name":"TriggerRegisterAnyUnitEventBJ","type":"EVENT","isEnabled":true,"parameters":[{"type":"PRESET","value":"PlayerUnitEventHeroUseItem"}]}],"conditions":[{"name":"OperatorCompareItemCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetItemTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetItemTypeId","parameters":[{"type":"FUNCTION","value":"GetManipulatedItem","statement":{"type":"CALL","isEnabled":true,"name":"GetManipulatedItem","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"I00J"}]}],"actions":[{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempPoint"},{"type":"FUNCTION","value":"GetUnitLoc","statement":{"type":"CALL","isEnabled":true,"name":"GetUnitLoc","parameters":[{"type":"FUNCTION","value":"GetManipulatingUnit","statement":{"type":"CALL","isEnabled":true,"name":"GetManipulatingUnit","parameters":[]}}]}}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"false"}]},{"name":"EnumDestructablesInCircleBJMultiple","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"256"},{"type":"VARIABLE","value":"TempPoint"}],"statements":[[{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OrMultiple","type":"CONDITION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareDestructableCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetDestructableTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableTypeId","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"B000"}]},{"name":"OperatorCompareDestructableCode","type":"CONDITION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetDestructableTypeId","statement":{"type":"CALL","isEnabled":true,"name":"GetDestructableTypeId","parameters":[{"type":"FUNCTION","value":"GetEnumDestructable","statement":{"type":"CALL","isEnabled":true,"name":"GetEnumDestructable","parameters":[]}}]}},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"B001"}]}]]}],null,[{"name":"ReturnAction","type":"ACTION","isEnabled":true,"parameters":[]}]]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"VALUE","value":"true"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempTrigger=LoadTriggerHandle(LS(), GetHandleId(GetEnumDestructable()), StringHash(\"t1\")) "}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempBool=IsTriggerEnabled(udg_TempTrigger)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempBool2=udg_TempTrigger!=null"}]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"AndMultiple","type":"CONDITION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]},{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool2"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"true"}]}]]}],[{"name":"DisableTrigger","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempTrigger"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"set udg_TempTrigger=LoadTriggerHandle(LS(), GetHandleId(GetEnumDestructable()), StringHash(\"t2\")) "}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempDoorHack"},{"type":"VALUE","value":"true"}]},{"name":"TriggerExecute","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempTrigger"}]},{"name":"SetVariable","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempDoorHack"},{"type":"VALUE","value":"false"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DestructableRestoreLife(LoadDestructableHandle(LS(), GetHandleId(udg_TempTrigger),StringHash(\"doorpath\")),999999,true)"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTimedTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, 11.00, \"|cffffcc00Door locked.|r\")"}]}],[{"name":"EnableTrigger","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempTrigger"}]},{"name":"TriggerExecute","type":"ACTION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempTrigger"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call KillDestructable(LoadDestructableHandle(LS(), GetHandleId(udg_TempTrigger), StringHash(\"doorpath\")))"}]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call DisplayTimedTextToPlayer(GetOwningPlayer(GetManipulatingUnit()), 0, 0, 11.00, \"|cffffcc00Door unlocked.|r\")"}]}]]}]]},{"name":"IfThenElseMultiple","type":"ACTION","isEnabled":true,"parameters":[],"statements":[[{"name":"OperatorCompareBoolean","type":"CONDITION","isEnabled":true,"parameters":[{"type":"VARIABLE","value":"TempBool"},{"type":"PRESET","value":"OperatorEqualENE"},{"type":"VALUE","value":"false"}]}],[{"name":"SetItemCharges","type":"ACTION","isEnabled":true,"parameters":[{"type":"FUNCTION","value":"GetManipulatedItem","statement":{"type":"CALL","isEnabled":true,"name":"GetManipulatedItem","parameters":[]}},{"type":"VALUE","value":"1"}]}]]},{"name":"CustomScriptCode","type":"ACTION","isEnabled":true,"parameters":[{"type":"VALUE","value":"call RemoveLocation(udg_TempPoint)"}]}]}